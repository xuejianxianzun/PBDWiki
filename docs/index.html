<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Description" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <link rel="shortcut icon" href="images/favicon.png" />
    <link rel="stylesheet" href="vue.css" />
    <link rel="stylesheet" href="style/style.css" />
  </head>
  <body>
    <div id="app"></div>
    <script>
      window.$docsify = {
        name: '',
        repo: '',
        loadSidebar: true,
        subMaxLevel: 3,
      }
    </script>
    <script src="js/docsify.min.js"></script>
    <script src="js/form.js"></script>
    <script>
      // 鼠标点击 img 图片时，在新标签页打开
      document.addEventListener('click', function (event) {
        const target = event.target
        if (target.tagName.toLowerCase() === 'img') {
          window.open(target.src, '_blank')
        }
      })
    </script>
    <script>
      // 添加钩子
      window.$docsify.plugins = [].concat(window.$docsify.plugins || [], [
        function (hook, vm) {
          // 在每次 Markdown 渲染完成后执行
          hook.doneEach(function () {
            // 根据 DPI 调整图片尺寸，使其显示为原尺寸，而不是放大后的尺寸
            const images = document.querySelectorAll('img')
            const dpr = window.devicePixelRatio
            if (dpr > 1) {
              const scale = 1 / dpr
              images.forEach((img) => {
                if (img.naturalWidth > 0) {
                  img.style.width = img.naturalWidth * scale + 'px'
                  img.style.height = 'auto'
                  return
                }

                img.onload = function () {
                  img.style.width = img.naturalWidth * scale + 'px'
                  img.style.height = 'auto'
                }
              })
            }
          })
        },
      ])
    </script>
  </body>
</html>
